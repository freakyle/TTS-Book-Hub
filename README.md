# å¢¨é¦™å¬ä¹¦ (Moxiang Reader) - AI å°è¯´é˜…è¯»å™¨
[English Version](#english-version) | [ä¸­æ–‡ç‰ˆæœ¬](#ä¸­æ–‡ç‰ˆæœ¬)
***
## ä¸­æ–‡ç‰ˆæœ¬
**å¢¨é¦™å¬ä¹¦** æ˜¯ä¸€æ¬¾ä¸“ä¸ºå–œçˆ±ç”µå­é˜…è¯»å’Œå¬ä¹¦çš„ç”¨æˆ·è®¾è®¡çš„ Web åº”ç”¨ã€‚å®ƒç»“åˆäº†æç®€çš„çº¸è´¨ä¹¦è§†è§‰ç¾å­¦ä¸å…ˆè¿›çš„ AI æ–‡å­—è½¬è¯­éŸ³ï¼ˆTTSï¼‰æŠ€æœ¯ï¼Œè®©ç”¨æˆ·å¯ä»¥å°†æœ¬åœ°æˆ–å¤åˆ¶çš„å°è¯´å†…å®¹è½¬åŒ–ä¸ºé«˜å“è´¨çš„è¯­éŸ³ä½“éªŒã€‚
### ğŸŒŸ æ ¸å¿ƒåŠŸèƒ½
* **æ²‰æµ¸å¼é˜…è¯»ä½“éªŒ**ï¼šç•Œé¢é‡‡ç”¨å®£çº¸çº¹ç†èƒŒæ™¯ï¼Œé…è‰²æ–¹æ¡ˆå‚è€ƒå¤ç±ï¼Œæä¾›æè‡´çš„è§†è§‰èˆ’é€‚åº¦ã€‚
* **å¼ºå¤§çš„ AI è¯­éŸ³å¼•æ“æ”¯æŒ**ï¼šæ”¯æŒæœ¬åœ°éƒ¨ç½²çš„ OpenAI TTS å…¼å®¹æ¥å£ï¼Œæä¾›è¯­é€Ÿè°ƒèŠ‚ä¸å¤šæ ·åŒ–éŸ³è‰²é€‰æ‹©ã€‚
* **å®Œå–„çš„è—ä¹¦ç®¡ç†**ï¼šæœ¬åœ°å­˜å‚¨ä¹¦æ¶ç³»ç»Ÿï¼Œæ”¯æŒæ‰¹é‡å¯¼å‡ºã€å¯¼å…¥åŠåˆ é™¤æ“ä½œï¼Œæ‰€æœ‰æ•°æ®å‡ä¿ç•™åœ¨æ‚¨çš„æµè§ˆå™¨ä¸­ã€‚
* **æ™ºèƒ½é˜…è¯»å™¨**ï¼šè‡ªåŠ¨é•¿æ–‡åˆ‡ç‰‡ï¼Œæ”¯æŒè¿›åº¦è‡ªåŠ¨è¿½è¸ªä¸éŸ³é¢‘é¢„åŠ è½½æŠ€æœ¯ï¼Œç¡®ä¿æŒç»­æµç•…çš„æ’­æ”¾ã€‚
* **å›½é™…åŒ–æ”¯æŒ**ï¼šæ”¯æŒç®€ä½“ä¸­æ–‡ä¸è‹±æ–‡ç•Œé¢ä¸€é”®åˆ‡æ¢ã€‚
### ğŸ› ï¸ æŠ€æœ¯è§„æ ¼
* **å‰ç«¯æ¡†æ¶**ï¼šReact 19 + TypeScript
* **æ ·å¼æ–¹æ¡ˆ**ï¼šTailwind CSS
* **æ•°æ®å­˜å‚¨**ï¼šæµè§ˆå™¨ LocalStorage
* **éŸ³é¢‘å¤„ç†**ï¼šåŸç”Ÿ Web Audio API
### ğŸš€ å¿«é€Ÿä¸Šæ‰‹
1. **é…ç½®æ¥å£**ï¼šç‚¹å‡»å³ä¸Šè§’ â€œè®¾ç½®â€ å›¾æ ‡ï¼Œè¾“å…¥æ‚¨æœ¬åœ° TTS æœåŠ¡çš„ API åœ°å€å’Œ Keyã€‚
2. **æ–°å¢ä¹¦ç±**ï¼šåœ¨ â€œè—ä¹¦é˜â€ ç‚¹å‡» â€œæ–°å¢ä¹¦ç±â€ï¼Œåˆ›å»ºæ‚¨çš„ç¬¬ä¸€æœ¬ä¹¦ã€‚
3. **æ·»åŠ ç« èŠ‚**ï¼šè¿›å…¥ä¹¦ç±ï¼Œæ·»åŠ ç« èŠ‚å¹¶ç²˜è´´å°è¯´å†…å®¹ã€‚
4. **å¼€å§‹å¬ä¹¦**ï¼šç‚¹å‡» â€œä¿å­˜å¹¶å¼€å§‹å¬ä¹¦â€ å³å¯äº«å—ã€‚
## æœ¬åœ°è¿è¡Œ
**å‰ææ¡ä»¶ï¼š** Node.js
1. å®‰è£…ä¾èµ–ï¼š`npm install`
2. è¿è¡Œåº”ç”¨ï¼š`npm run dev`
## AI è¯­éŸ³æœåŠ¡é…ç½®
### ä½¿ç”¨ OpenAI TTS API
æ‚¨å¯ä»¥ä½¿ç”¨ OpenAI å®˜æ–¹çš„ TTS API æœåŠ¡ã€‚éœ€è¦åœ¨è®¾ç½®ä¸­é…ç½®ï¼š
* API åœ°å€ï¼š`https://api.openai.com/v1/audio/speech`
* API Keyï¼šæ‚¨çš„ OpenAI API Key
### ä½¿ç”¨ OpenAI-Compatible Edge-TTS API
æ¨èä½¿ç”¨ [openai-edge-tts](https://github.com/travisvn/openai-edge-tts) é¡¹ç›®ï¼Œè¿™æ˜¯ä¸€ä¸ªä¸ OpenAI TTS API å…¼å®¹çš„ Edge-TTS å®ç°ã€‚
**å®‰è£…å’Œä½¿ç”¨æ–¹æ³•è¯·å‚è€ƒè¯¥é¡¹ç›®çš„å®˜æ–¹æ–‡æ¡£ï¼š**
[https://github.com/travisvn/openai-edge-tts](https://github.com/travisvn/openai-edge-tts)
## CORS è·¨åŸŸé…ç½®
å½“ç½‘é¡µåŸŸå / ç«¯å£ä¸æœ¬åœ° API æœåŠ¡ï¼ˆé»˜è®¤è¿è¡Œåœ¨ [localhost:5050](https://localhost:5050)ï¼‰ä¸å±äºåŒä¸€ "æº" æ—¶ï¼Œå¯èƒ½ä¼šé‡åˆ° CORS è·¨åŸŸé—®é¢˜ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ Nginx æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚
### Nginx é…ç½®ç¤ºä¾‹ï¼ˆconf/nginx.confï¼‰
```
server {
    listen 80;  # è‡ªå®šä¹‰ç«¯å£ï¼ˆå¦‚ 8080ï¼‰
    server_name localhost;
    # å¤„ç†è·¨åŸŸ
    add_header Access-Control-Allow-Origin *;
    add_header Access-Control-Allow-Methods 'GET, POST, OPTIONS';
    add_header Access-Control-Allow-Headers 'Authorization,Content-Type';
    # é¢„æ£€è¯·æ±‚ç›´æ¥è¿”å› 204
    if ($request_method = OPTIONS) {
        return 204;
    }
    # åå‘ä»£ç†åˆ° openai-edge-tts æœåŠ¡
    location / {
        proxy_pass http://127.0.0.1:5050;  # æŒ‡å‘æœ¬åœ° API æœåŠ¡
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```
å¯åŠ¨ Nginxï¼Œç½‘é¡µè°ƒç”¨åœ°å€æ”¹ä¸º http://localhostï¼Œå³å¯ç»•è¿‡è·¨åŸŸé™åˆ¶ã€‚
***
## English Version
**Moxiang Reader** is a web application designed for those who love digital reading and audiobooks. It blends minimalist paper-book aesthetics with advanced AI Text-to-Speech (TTS) technology, allowing users to transform copied novel text into high-quality audio experiences.
### ğŸŒŸ Key Features
* **Immersive Reading Experience**: Features a traditional paper-texture background and a classic "ancient book" color palette for maximum visual comfort.
* **Powerful AI Voice Engine**: Supports locally deployed OpenAI-compatible TTS endpoints with adjustable playback speed and various voice profiles.
* **Comprehensive Library Management**: A local bookshelf system supporting batch export, import, and deletion. All data stays securely in your browser.
* **Smart Reader**: Automatically splits long text into chunks, featuring progress tracking and audio pre-loading for a gapless listening experience.
* **I18n Support**: Seamlessly switch between Simplified Chinese and English interfaces.
### ğŸ› ï¸ Technical Specs
* **Framework**: React 19 + TypeScript
* **Styling**: Tailwind CSS
* **Storage**: Browser LocalStorage
* **Audio**: Native Web Audio API
### ğŸš€ Quick Start
1. **Configure API**: Click the "Settings" icon to set your local TTS API endpoint and Key.
2. **Add a Book**: Click "New Book" in the Library to get started.
3. **Add Chapters**: Enter the book, add a chapter, and paste your content.
4. **Start Listening**: Click "Save & Play" to begin your AI-narrated journey.
## Local Development
**Prerequisites:** Node.js
1. Install dependencies: `npm install`
2. Run the application: `npm run dev`
## AI Voice Service Configuration
### Using OpenAI TTS API
You can use OpenAI's official TTS API service. Configure in settings:
* API Endpoint: `https://api.openai.com/v1/audio/speech`
* API Key: Your OpenAI API Key
### Using OpenAI-Compatible Edge-TTS API
Recommended to use [openai-edge-tts](https://github.com/travisvn/openai-edge-tts), an OpenAI TTS API compatible Edge-TTS implementation.
**Please refer to the project's official documentation for installation and usage:**
[https://github.com/travisvn/openai-edge-tts](https://github.com/travisvn/openai-edge-tts)
## CORS Configuration
When the web page domain/port and local API service (default running on [localhost:5050](https://localhost:5050)) are not from the same "origin", you may encounter CORS issues. You can use Nginx to solve this problem.
### Nginx Configuration Example (conf/nginx.conf)
```
server {
    listen 80;  # Custom port (e.g., 8080)
    server_name localhost;
    # Handle CORS
    add_header Access-Control-Allow-Origin *;
    add_header Access-Control-Allow-Methods 'GET, POST, OPTIONS';
    add_header Access-Control-Allow-Headers 'Authorization,Content-Type';
    # Return 204 for preflight requests
    if ($request_method = OPTIONS) {
        return 204;
    }
    # Reverse proxy to openai-edge-tts service
    location / {
        proxy_pass http://127.0.0.1:5050;  # Point to local API service
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```
Start Nginx and change the web page call address to http://localhost to bypass CORS restrictions.
***
*â€œå¢¨é¦™ä½™éŸµï¼Œè€³ç•”ä¹¦å£°ã€‚â€ â€”â€” Thank you for using Moxiang Reader.*
